var globalCommon;!function(g){"use strict";var e,t,r,m="pc",a=location.search,p=[],s=window.scrollY,y={initialize:function(){return t=document.querySelector("body"),y},render:function(){return y.scrollHeader(),y.changeDevice(),y.textSpanInsert(),y.globalHeader(),y.shareLink(),y.homeSlider(),y.homeMenu(),y.homeNewsCounter(),y.japaneseTraditionSlider(),y.productionAreasSlider(),y.aboutTsumuraSlider(),y.matchHeight(),y.setCurrent(),y.selectCategory(),y.setUpTab(),y.setUpAccordion(),y.setUpEqualHeights(),y.movieModal(),y.imageModal(),y.productModal(),y.productsData(),y.graphAnimate(),y.graphAnimate02(),y.valueChainTab(),y},onLoad:function(){return y.setUpLoad(),y.setUpAnkerLink(),y.setUpUrlAnkerLink(),y.setUpReturntopLink(),y.moreView(),y.setUpInview(),y.setInfiniteScroll(),y},scroll:function(){return s=window.scrollY,y.setUpReturntopLink(),y.scrollHeader(),y},resize:function(){return y.resizedTimer(),y},resizedTimer:function(){clearTimeout(e),e=setTimeout(y.resized,150)},resized:function(){return y.changeDevice(),y.setUpEqualHeights(),y.setUpReturntopLink(),y},changeDevice:function(){var e=window.innerWidth;m=961<=e?"pc":"sp",window.addEventListener("resize",function(){(e=window.innerWidth)<960&&"pc"==m&&location.reload(),960<=e&&"sp"==m&&location.reload()})},setUpAccordion:function(){var e=document.querySelectorAll(".js-accordion");e&&Array.prototype.forEach.call(e,function(e,t){var r=e.querySelector(".js-accordion_contents"),a=e.querySelector(".js-accordion_head"),i="false";e.setAttribute("area-expanded","false"),a.addEventListener("click",function(){i="false"==i?(g(r).slideDown(),"true"):(g(r).slideUp(),"false"),e.setAttribute("area-expanded",i)})})},setUpTab:function(){var e=".js-tab",i=".js-tab-trigger",n=".js-tab-target";if(!g(e).length||!g(e).find(i).length||!g(e).find(n).length)return!1;function o(e,t){var r;return l[e].trigger.each(function(e){"number"!=typeof r&&g(this)[0]===t[0]&&(r=e)}),r}function s(e,t){var r,a;l[e].current!==t&&(r=l[e].trigger.eq(t),(a=g(r.attr("href"))).length&&(l[e].trigger.attr("aria-selected","false"),l[e].target.attr("aria-expanded","false"),r.attr("aria-selected","true"),a.attr("aria-expanded","true"),y.setUpEqualHeights(a),l[e].current=t))}var l=[];g(e).each(function(t){var e,r,a;l[t]={wrap:g(this)},l[t].trigger=l[t].wrap.find(i),l[t].target=l[t].wrap.find(n),l[t].trigger.length&&l[t].target.length&&(e=l[t].trigger.filter(".is-current"),y.getParam(),p.tab&&(r=p.tab),(a=location.hash)&&(r=a.slice(1)),a&&(e=l[t].trigger.filter(function(e,t){if(r===t.hash.slice(1))return e})),s(t,e.length?o(t,e):0),l[t].trigger.off("click.smoothscroll").on("click",function(e){s(t,o(t,g(this))),e.preventDefault()}),l[t].wrap.addClass("is-initialized"))})},setUpEqualHeights:function(e){var t=(e=e||g("body")).find(".js-equal-heights");if(!t.length)return!1;function r(){for(var e=Object.keys(o),t=0;t<e.length;t++)!function(e){if(!e.height)return;for(var t=0;t<e.data.length;t++)e.data[t].innerHeight(e.height)}(o[e[t]])}function a(){for(var e=Object.keys(o),a=!0,t=0;t<e.length;t++){var r=o[e[t]];r.height=0,function(e){for(var t=0;t<e.data.length;t++){var r=Math.ceil(e.data[t].innerHeight());r!==e.height&&(a&&0!==e.height&&(a=!1),r>e.height&&(e.height=r))}}(r)}return a}function i(){var e=g(this),t=e.data(s),r=e.data(l);e.is(":visible")&&(t=(r?"":e.offset().top)+(t?"_g_"+t:""),o[t]?o[t].data.push(e):o[t]={data:[e]})}function n(){o={},t.each(i),a()||(r(),n())}var o,s="group",l="force";t.innerHeight(""),n()},setUpReturntopLink:function(){var e="js-return-top";if(0===g("."+e).length)return!1;function t(){var e=g(window).scrollTop(),t=window.innerHeight,r=e+t,e=!1;return[t<r,e=0!==g(i).length?r<g(i).offset().top:e]}var r="is-show",a="is-fixed",i=".js-return-top__stopTrigger";t()[0]!==g("."+e).hasClass(r)&&(t()[0]?g("."+e).addClass(r):g("."+e).removeClass(r)),t()[1]!==g("."+e).hasClass(a)&&(t()[1]?g("."+e).addClass(a):g("."+e).removeClass(a))},setUpLoad:function(){var e=document.querySelectorAll(".js-loaded");e&&Array.prototype.forEach.call(e,function(e){e.setAttribute("data-loaded","loaded");var t=e;setTimeout(function(){t.setAttribute("data-loaded","afterLoaded")},Number(e.getAttribute("data-time")))})},setUpAnkerLink:function(){var a=100;"sp"==m&&(a=80),g('a[href^="#"]:not(.js-movie-modal__trigger,.js-movie-modal__close,.js-officer-modal-Trigger,.js-kampo-modal-Trigger,.js-tab-trigger,.js-valueChain-tab-trigger)').on("click.smoothscroll",function(e){e.preventDefault();var t=g(this).attr("href"),r=g("#"===t||""===t?"html":t);if(g(r)){e=Number(g(r).css("padding-top").replace("px","")),e=r.offset().top-(a-e);return g("body,html").animate({scrollTop:e},500,"swing"),history.pushState(null,null,t),!1}})},setUpUrlAnkerLink:function(){var r=100,a=location.hash;"sp"==m&&(r=80),setTimeout(function(){{var e,t;a&&(g("body,html").scrollTop(0),e=g(a),g(e)&&(t=Number(g(e).css("padding-top").replace("px","")),e.length&&(t=e.offset().top-(r-t),g("body,html").stop().animate({scrollTop:t},500,"swing"))))}},0)},getParam:function(){var e;a&&(e=a.replace("?","").split("&"),Array.prototype.forEach.call(e,function(e){e=e.split("=");p[e[0]]=e[1]}))},setParam:function(){var r="?",e=Object.keys(p);e.length&&(Array.prototype.forEach.call(e,function(e,t){0!==t&&(r+="&"),r+=e+"="+p[e]}),history.replaceState({},"",r))},moreView:function(){var e=document.querySelectorAll(".js-more-content");e&&Array.prototype.forEach.call(e,function(e){!function(t){var r,a,i=t.querySelector(".js-more-content__accordion"),n=i.querySelector("ul");e();var o="false";function e(){var e=n.children[0].clientHeight;r=n.clientHeight,a=e}i.style.height=a+"px",t.setAttribute("aria-expanded","false"),t.querySelector(".js-more-btn").addEventListener("click",function(e){e.preventDefault(),"false"==(o=t.getAttribute("aria-expanded"))?(t.setAttribute("aria-expanded","true"),i.style.height=r+"px"):(t.setAttribute("aria-expanded","false"),i.style.height=a+"px")}),window.addEventListener("resize",function(){e(),o=t.getAttribute("aria-expanded"),i.style.height="false"==o?a+"px":r+"px"})}(e)})},globalHeader:function(){var i,e,n,t,r,a,o,s,l,c,d=document.querySelector(".js-header");function u(e,t){g(t).hide(),e.addEventListener("click",function(e){e.preventDefault(),g(t).slideDown(),"true"==this.parentNode.getAttribute("aria-expanded")?(g(t).slideUp(),this.parentNode.setAttribute("aria-expanded","false")):(g(t).slideDown(),this.parentNode.setAttribute("aria-expanded","true"))})}d&&(o=d.querySelector(".js-globalNav").querySelectorAll(":scope >li > a"),i=d.querySelector(".js-search-trigger"),e=d.querySelector(".js-search-dropdown"),p=d.querySelector(".js-search-close"),n=document.querySelector(".l-header-background"),"pc"==m?Array.prototype.forEach.call(o,function(e){var t,r,a=e.parentNode.querySelector(".js-dropdown");a.setAttribute("aria-expanded","false"),g(e.parentNode).on({mouseenter:function(){var e;"true"!=i.getAttribute("aria-expanded")&&(e=this,t=setTimeout(function(){g(a).slideDown(),e.setAttribute("aria-expanded","true"),a.setAttribute("aria-expanded","true"),n.setAttribute("aria-expanded","true")},200),clearTimeout(r))},mouseleave:function(){var e;"true"!=i.getAttribute("aria-expanded")&&(e=this,r=setTimeout(function(){g(a).slideUp(),e.setAttribute("aria-expanded","false"),a.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false")},200),clearTimeout(t))}})}):(t=d.querySelector(".js-menuTrigger-sp"),r=d.querySelector(".js-menu-dropdown"),s=d.querySelectorAll(".js-childTrigger>a,.js-childTrigger>p"),l=t,g(c=r).hide(),l.setAttribute("aria-expanded","false"),l.addEventListener("click",function(){"true"==l.getAttribute("aria-expanded")?(g(c).slideUp(),l.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),y.scrollFixed("false")):(g(c).slideDown(),g(e).slideUp(),"false"==i.getAttribute("aria-expanded")?y.scrollFixed("true"):i.setAttribute("aria-expanded","false"),l.setAttribute("aria-expanded","true"),n.setAttribute("aria-expanded","true"))}),Array.prototype.forEach.call(o,function(e){var t=e.parentNode.querySelector(".js-dropdown");u(e,t)}),Array.prototype.forEach.call(s,function(e){var t=e.parentNode.querySelector(".js-child-dropdown");u(e,t)}),a=d.querySelector(".js-copy-dom"),o=d.querySelector(".l-header-nav__relative").cloneNode(!0),s=d.querySelector(".l-header-nav__lang").cloneNode(!0),a.appendChild(o),a.appendChild(s)),g(e).hide(),e.setAttribute("aria-expanded","false"),i.setAttribute("aria-expanded","false"),i.addEventListener("click",function(){"true"==i.getAttribute("aria-expanded")?(g(e).slideUp(),i.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),"sp"==m&&y.scrollFixed("false")):(g(e).slideDown(),i.setAttribute("aria-expanded","true"),n.setAttribute("aria-expanded","true"),"sp"==m&&("false"==t.getAttribute("aria-expanded")?y.scrollFixed("true"):(g(r).slideUp(),t.setAttribute("aria-expanded","false"))))}),p.addEventListener("click",function(){g(e).slideUp(),i.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),"sp"==m&&y.scrollFixed("false")}));var p=d.querySelectorAll(".js-header-current>li>a"),f=location.pathname,d=document.querySelector("html").getAttribute("lang"),h=0,h="ja"==d?1:2;f=(f=f.split("/"))[h],Array.prototype.forEach.call(p,function(e){e.getAttribute("href").split("/")[h]==String(f)&&e.classList.add("is-current")})},shareLink:function(){var e=document.querySelectorAll(".js-share-btns");if(e){const n=location.href,o=document.title;Array.prototype.forEach.call(e,function(e){const t=e.querySelector(".js-share-facebook"),r=e.querySelector(".js-share-x"),a=e.querySelector(".js-share-line");var i;e.parentNode.classList.contains("js-share-youtube")?(i=e.parentNode.getAttribute("data-src"),e=e.parentNode.getAttribute("data-title"),t.setAttribute("href","http://www.facebook.com/share.php?u="+i),r.setAttribute("href","https://x.com/share?url="+i+"&text="+e),a.remove()):(t.setAttribute("href","http://www.facebook.com/share.php?u="+n),r.setAttribute("href","https://x.com/share?url="+n+"&text="+o),a.setAttribute("href","https://social-plugins.line.me/lineit/share?url="+n))})}},scrollFixed:function(e){"true"==e?(r=s,t.style.position="fixed",t.style.marginTop="-"+r+"px"):(t.style.marginTop="0",t.style.position="relative",scrollTo(0,r))},scrollHeader:function(){var e=document.querySelector(".js-scrollHeader");e&&(0<s?e.setAttribute("aria-scroll","true"):e.setAttribute("aria-scroll","false"))},homeSlider:function(){var e=g(".js-home-slick");e&&(e.on("init",function(){e.find(".slick-slide").eq(0).addClass("slide-animation"),g(".js-indicator").addClass("is-current")}),e.on("beforeChange",function(e,t,r,a){g(".slick-slide",this).eq(r).addClass("prev-slide"),g(".slick-slide",this).eq(a).addClass("slide-animation"),g(".js-indicator").removeClass("is-current")}),e.on("afterChange",function(){g(".prev-slide",this).removeClass("prev-slide slide-animation"),g(".js-indicator").addClass("is-current")}),g(".js-stop").on("click",function(){"true"==g(".js-stop").attr("data-stopped")?(g(this).attr("data-stopped","false"),e.slick("slickPlay"),g(".js-indicator").addClass("is-current")):(g(this).attr("data-stopped","true"),e.slick("slickPause"),g(".js-indicator").removeClass("is-current"))}),e.slick({loop:!0,autoplay:!0,infinite:!0,fade:!0,autoplaySpeed:5e3,speed:500,appendArrows:g(".p-home-slides__pagination"),prevArrow:'<div class="p-home-slides__prev"></div>',nextArrow:'<div class="p-home-slides__next"></div>',pauseOnFocus:!1,pauseOnHover:!1,pauseOnDotsHover:!1}).on("afterChange",function(e,t,r){g(this).slick("slickSetOption","autoplaySpeed",5e3)}))},homeMenu:function(){var i,e,t,n,a,o,r=document.querySelector(".js-home-nav");r&&(i=document.querySelector(".js-header"),e=r.querySelector(".js-home-nav__trigger"),t=r.clientWidth-e.clientWidth,n=r.querySelectorAll(".js-home-dropdown-trigger"),e.parentNode.setAttribute("aria-expanded","true"),e.addEventListener("click",function(){"true"==this.parentNode.getAttribute("aria-expanded")?(this.parentNode.setAttribute("aria-expanded","false"),this.parentNode.style.right="-"+String(t)+"px"):(this.parentNode.setAttribute("aria-expanded","true"),this.parentNode.style.right="0px")}),"pc"==m?Array.prototype.forEach.call(n,function(e,t){var r=e.parentNode.querySelector(".js-home-dropdown");r.setAttribute("aria-expanded","false"),g(e.parentNode).on({mouseenter:function(){var e=this;a=setTimeout(function(){g(r).fadeIn(),e.setAttribute("aria-selected","true"),r.setAttribute("aria-expanded","true"),s<=r.clientHeight&&window.scrollTo({top:r.clientHeight,behavior:"smooth"})},300)},mouseleave:function(){g(r).fadeOut(),this.setAttribute("aria-selected","false"),r.setAttribute("aria-expanded","false"),clearTimeout(a)}})}):(o=document.querySelector(".js-home-nav__bg"),Array.prototype.forEach.call(n,function(e,t){var r=e.parentNode.querySelector(".js-home-dropdown");e.parentNode.getAttribute("aria-selected");function a(e){y.scrollFixed("false"),i.style.zIndex="10",e.parentNode.setAttribute("aria-selected","false"),r.setAttribute("aria-expanded","false"),o.setAttribute("aria-expanded","false"),Array.prototype.forEach.call(n,function(e,t){e.parentNode.setAttribute("aria-selected","false")})}e.addEventListener("click",function(e){var t;e.preventDefault(),"true"==this.parentNode.getAttribute("aria-selected")?(t="false",i.style.zIndex="10"):(t="true",i.style.zIndex="1"),y.scrollFixed(t),this.parentNode.setAttribute("aria-selected",t),r.setAttribute("aria-expanded",t),o.setAttribute("aria-expanded",t)}),e.parentNode.querySelector(".js-nav-dropdown__close").addEventListener("click",function(){a(e)}),o.addEventListener("click",function(){a(e)})})))},homeNewsCounter:function(){var e,t=document.querySelector(".js-news-counter");t&&(e=t.querySelectorAll(".js-news-counter__child > li"),t.setAttribute("data-news-length",String(e.length)))},setCurrent:function(){var e=document.querySelectorAll(".js-current-set > li"),t=document.querySelectorAll(".js-current-delete > li"),r=window.location.pathname;function a(e){var t=e.split("/");return"index.html"==t[t.length-1]&&(t.pop(),e=t.join("/")+"/"),e}r=a(r),e&&Array.prototype.forEach.call(e,function(e){var t=a(t=e.querySelector("a").getAttribute("href"));r.includes(t)&&e.setAttribute("aria-selected","true")}),t&&Array.prototype.forEach.call(t,function(e){var t=a(t=e.querySelector("a").getAttribute("href"));r==t&&e.remove()})},selectCategory:function(){var e,r=document.querySelector(".js-select-category");function t(t){var e=r.querySelectorAll(".js-select-category-content>li");Array.prototype.forEach.call(e,function(e){t==e.getAttribute("data-select-category")?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")})}r&&(t((e=r.querySelector(".js-select-category-trigger")).value),e.addEventListener("change",function(){t(this.value)}))},matchHeight:function(){var e=document.querySelector(".js-home-about__matchHeight"),t=document.querySelectorAll(".js-matchHeight");e&&(e=e.querySelectorAll(".js-about-matchHeight"),g(e).matchHeight()),t&&g(t).matchHeight({byRow:!0})},productionAreasSlider:function(){var e=document.querySelector(".js-production-areas-mv__slider");e&&g(e).slick({autoplay:!0,autoplaySpeed:5e3,infinite:!0,slidesToScroll:1,centerMode:!0,centerPadding:"30px",dots:!0,prevArrow:'<div class="c-slider-btn c-slider-btn__prev"></div>',nextArrow:'<div class="c-slider-btn c-slider-btn__next"></div>',responsive:[{breakpoint:600,settings:{centerPadding:"4%"}}]})},japaneseTraditionSlider:function(){var r,e,t,a=document.querySelector(".js-japaneseTradition-mv__slider");a&&(g(a).slick({autoplay:!0,autoplaySpeed:5e3,infinite:!0,slidesToScroll:1,centerMode:!0,centerPadding:"30px",dots:!0,prevArrow:'<div class="c-slider-btn c-slider-btn__prev"></div>',nextArrow:'<div class="c-slider-btn c-slider-btn__next"></div>',responsive:[{breakpoint:600,settings:{centerPadding:"4%"}}]}),r=document.querySelector(".js--japaneseTradition-box"),a=new Swiper(".p-japaneseTradition-thumbnails__width.swiper-container",{loop:!0,slideToClickedSlide:!0,breakpoints:{961:{spaceBetween:40}},centeredSlides:!0,loopedSlides:10,slidesPerView:"auto",spaceBetween:30,initialSlide:1}),e=new Swiper(".js-japaneseTradition-word__slider.swiper-container",{centeredSlides:!0,effect:"fade",loop:!0,slidesPerView:1,loopedSlides:10,navigation:{nextEl:".js-japaneseTradition-word__slider .c-slider-btn__next",prevEl:".js-japaneseTradition-word__slider .c-slider-btn__prev"}}),t=e.$wrapperEl[0].querySelectorAll("li"),Array.prototype.forEach.call(t,function(t){if("0"==t.getAttribute("data-swiper-slide-index"))for(let e=1;e<=3;e++)r.querySelector(".js-japaneseTradition-copy"+String(e)).innerHTML=t.querySelector(".js-japaneseTradition-source"+String(e)).innerHTML}),((e.controller.control=a).controller.control=e).on("slideChange",function(){Array.prototype.forEach.call(t,function(t){if(t.getAttribute("data-swiper-slide-index")==String(e.realIndex))for(let e=1;e<=3;e++)r.querySelector(".js-japaneseTradition-copy"+String(e)).innerHTML=t.querySelector(".js-japaneseTradition-source"+String(e)).innerHTML})}))},aboutTsumuraSlider:function(){document.querySelector(".js-aboutTsumura-swiper")&&new Swiper(".js-aboutTsumura-swiper",{speed:1e3,loop:!0,effect:"fade",autoplay:{delay:4e3}})},movieModal:function(){var e;document.querySelectorAll(".js-movie-modal")&&("pc"==m?g(".js-movie-modal__trigger").colorbox({inline:!0,onOpen:function(){},onCleanup:function(){},width:"90%",innerWidth:"100%",maxWidth:"1200px",fixed:!0}):(e=window.outerWidth,g(".js-movie-modal__trigger").colorbox({inline:!0,onOpen:function(){},onCleanup:function(){},width:e+"px",innerWidth:"100%",maxWidth:"100%",fixed:!0})),g(".js-movie-modal__close").click(function(){return parent.$.fn.colorbox.close(),!1}),g("#click").click(function(){return g("#click").css({"background-color":"#f00",color:"#fff",cursor:"inherit"}).text("Open this window again and this message will still be here."),!1}))},imageModal:function(){document.querySelectorAll(".js-image-modal")&&(g(".js-image-modal").modaal({type:"image",overlay_opacity:"0.5"}),g(".js-officer-modal-Trigger,.js-kampo-modal-Trigger").modaal({overlay_opacity:"0.5"}))},productModal:function(){var e,t,r,a=document.querySelector(".js-products-modal");a&&(e=a.querySelectorAll(".js-products-modal-triggers > li > a"),t=a.querySelector(".js-products-modal-content"),r=a.querySelector(".js-modal-products-trigger"),a=a.querySelector(".js-modal-products-close"),Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(e){e.preventDefault(),t.setAttribute("aria-expanded","true"),r.setAttribute("href",this.getAttribute("href"))})}),a.addEventListener("click",function(){t.setAttribute("aria-expanded","false")}))},textSpanInsert:function(){var e=document.querySelectorAll(".js-spanInsert");e&&Array.prototype.forEach.call(e,function(e,t){var r,a,i=e.innerHTML;r=(r=i).split("<br>"),a="",Array.prototype.forEach.call(r,function(e,t){var e=e.split(""),r="";Array.prototype.forEach.call(e,function(e,t){" "==String(e)?r+="<span>&nbsp;</span>":r+="<span>"+String(e)+"</span>"}),0<t&&(a+="<br>"),a+=r}),i=a,e.innerHTML=i})},setUpInview:function(){var e,t,r,a,i,n=document.querySelector(".js-recruit-nav");n&&(t=e=0,r="up",a=document.querySelector(".l-footer").clientHeight,i=document.querySelector("body").clientHeight-window.innerHeight,document.addEventListener("resize",function(){i=document.querySelector("body").clientHeight-window.innerHeight}),document.addEventListener("scroll",function(){t=document.documentElement.scrollTop,r=e<t?"down":"up",e=t,n.setAttribute("aria-scroll",r),0==t&&n.setAttribute("aria-scroll","up"),t<i-a?n.setAttribute("aria-expanded","true"):n.setAttribute("aria-expanded","false")})),g(".js-inview").on("inview",function(){g(this).addClass("is-inview")})},setInfiniteScroll:function(){document.getElementsByClassName("js-recruit-messageSec")&&(g(".js-recruit-mv-slide--left ").infiniteslide({speed:50,direction:"left",pauseonhover:!1,clone:100,responsive:!0}),g(".js-recruit-mv-slide--right").infiniteslide({speed:50,direction:"right",pauseonhover:!1,clone:100,responsive:!0}),g(".js-recruit-messageSec").infiniteslide({speed:50,direction:"left",pauseonhover:!1,clone:100,responsive:!0})),document.getElementsByClassName("js-recruit-interview")&&g(".js-recruit-interview").infiniteslide({speed:50,direction:"left",pauseonhover:!1,clone:100,responsive:!0})},productsData:function(){var i=document.querySelector(".js-products-data");if(i){var n=i.getAttribute("data-json-type"),a=i.querySelectorAll(".js-product-trigger > li > a");const e=i.getAttribute("data-json-path");var o,s='<tr class="p-products-medical-table__head c-table__head"><th class="p-products-medical-table__head--number">製品番号</th><th>ツムラ医療用漢方製剤名</th><th class="p-products-medical-table__head--pdf">くすりのしおり（PDF）</th></tr>',l="",t="",c=20,d=Number(a[a.length-1].getAttribute("href"));window.addEventListener("DOMContentLoaded",()=>{fetch(e).then(e=>e.json()).then(e=>function(e){(t=e.products).sort((e,t)=>e.product_Id>t.product_Id?1:-1),"kana"==n&&t.sort((e,t)=>e.nameKana<t.nameKana?-1:1);y.getParam(),Array.prototype.forEach.call(a,function(e){var r=e.getAttribute("href");e.style.pointerEvents="auto",-1!=r.indexOf("?")&&(r=r.split("?")[1].split("=")[1]),t.filter(function(e){if(-1!=r.indexOf("行")){if(e.product_name_cat==r)return!0}else{var t=Number(a[a.length-1].getAttribute("href"));if(Number(e.product_Id)<=t){if(Number(e.product_Id)>=Number(r)&&Number(e.product_Id)<Number(r)+20)return!0}else if(Number(e.product_Id)>=Number(r))return!0}}).length<=0&&e.setAttribute("aria-available","false"),n&&e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href");p[n]=String(e),y.setParam(),Array.prototype.forEach.call(a,function(e){e.setAttribute("aria-selected","false")}),this.setAttribute("aria-selected","true"),u(t)})}),n&&(p[n]?Array.prototype.forEach.call(a,function(e){e.getAttribute("href")==decodeURI(p[n])&&e.setAttribute("aria-selected","true")}):(p[n]=a[0].getAttribute("href"),a[0].setAttribute("aria-selected","true"),y.setParam())),u(t)}(e))})}function u(e){var t,r,a;"num"==n?(t=Number(p.num),o=e.filter(function(e){if(d<=t){if(t<=Number(e.product_Id))return!0}else if(t<=Number(e.product_Id)&&Number(e.product_Id)<t+c)return!0})):"kana"==n&&(r=decodeURI(p.kana),o=e.filter(function(e){if(r==String(e.product_name_cat))return!0})),a=o,(e=i.querySelector(".js-product-table__box"))&&(l="",l+=s,Array.prototype.forEach.call(a,function(e){l+="<tr>",l+='<td class="p-products-medical-table__content--number"><p>'+e.product_Id+"</p></td>",l+='<td><div class="p-products-medical-table__inner">',l+='<figure><img src="'+e.thumbnail_img+'" alt="'+e.thumbnail_alt+'"></figure>',l+="<p>"+e.name+"</p>",l+="</div></td>",l+='<td class="p-products-medical-table__content--pdf">',l+='<a class="" href="'+e.pdf+'" target="_blank"></a>',l+="</td>",l+="</tr>"}),e.innerHTML=l)}},graphAnimate:function(){var e=document.querySelectorAll(".js-graphAnimate");e&&Array.prototype.forEach.call(e,function(e,t){var r,a,i,n;function o(){var e=window.scrollY,t=window.innerHeight;n.getBoundingClientRect().top+e-t<e&&(t=n.querySelectorAll(".js-graphAnimate__list > li"),e=n.querySelector(".js-graphAnimateImage"),Array.prototype.forEach.call(t,function(e){var t=e.getAttribute("data-parse"),r=e.querySelector(".js-graphAnimate__bar"),e=e.querySelector(".js-graphAnimate__text");r.style.height=2*t+"%",e.style.opacity="1"}),e.style.opacity="1",e.style.transform="scale(1)")}a=(r=e).querySelectorAll(".js-graphAnimate__list > li"),i=0,r=r.querySelector(".js-graphAnimateImage"),Array.prototype.forEach.call(a,function(e,t){var r=e.getAttribute("data-parse"),a=e.querySelector(".js-graphAnimate__bar");e.querySelector(".js-graphAnimate__text").style.transitionDelay=i+"s",a.style.transition=.01*r+"s ease",a.style.transitionDelay=i+"s",i+=.01*r+.1}),r.style.transitionDelay=i+.2+"s",n=e,o(),window.addEventListener("scroll",function(){o()}),window.addEventListener("resize",function(){o()})})},graphAnimate02:function(){var e=document.querySelector(".js-graphAnimate02");function t(e){var t=window.scrollY,r=window.innerHeight;e.getBoundingClientRect().top+t-r<t&&(setTimeout(function(){g(".js-graphAnimate02__arrow").animate({width:"80%"},600)},600),setTimeout(function(){g(".js-graphAnimate02__comment").animate({opacity:"1"},400)},1200))}e&&(g(".js-graphAnimate02__arrow > img").css("width",.8*e.clientWidth+"px"),t(e),window.addEventListener("scroll",function(){t(e)}),window.addEventListener("resize",function(){g(".js-graphAnimate02__arrow > img").css("width",.8*e.clientWidth+"px")}))},valueChainTab(){var e=document.querySelector(".js-valueChain-tab");if(e){var t,r=String(location.hash);const n=e.querySelectorAll(".js-valueChain-tab-trigger"),o=e.querySelectorAll(".js-valueChain-tab-target"),s=e.querySelectorAll(".js-valueChain-tab-trigger-inner");var a=r=>{Array.prototype.forEach.call(n,e=>{var t=e.getAttribute("href").substr(1);r==t?e.setAttribute("aria-selected","true"):e.setAttribute("aria-selected","false")})},i=r=>{Array.prototype.forEach.call(o,e=>{var t=e.getAttribute("id");r==t?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")})};""==r&&(r=n[0].getAttribute("href")),t=String(r).substr(1),Array.prototype.forEach.call(n,e=>{var t=e.getAttribute("href").substr(1);e.addEventListener("click",e=>{e.preventDefault(),a(t),i(t)})}),a(t),i(t),Array.prototype.forEach.call(s,e=>{var t=e.getAttribute("href").substr(1);e.addEventListener("click",e=>{e.preventDefault(),a(t),i(t)})})}},allEvent:function(){document.addEventListener("DOMContentLoaded",function(){y.initialize(),y.render()}),window.addEventListener("load",function(){y.onLoad()}),window.addEventListener("scroll",function(){y.scroll()}),window.addEventListener("resize",function(){y.resize()}),window.addEventListener("popstate",function(){location.reload()})}};y.allEvent(),globalCommon=y}(window.jQuery);